{% extends 'base.html' %}

{% block header %}
    <h1>{% block title %}Global Settings{% endblock %}</h1>
{% endblock %}

{% block content %}

    <div class="container-fluid col-lg-8">
        <div class="p-5 mx-auto">
            <form method="post">

                <h2>Integrations</h2>

                    <h3 class="mt-3">Companies House API Key</h3>
                        <div class="form-group row">
                            <label for="companies_house_api_key" class="col-sm-4 col-form-label">API Key</label>
                            <div class="col-sm-8">
                                <input
                                        name="companies_house_api_key"
                                        class="form-control"
                                        type="text"
                                        value="{{ global_settings['companies_house_api_key'] }}"
                                        id="companies_house_api_key">
                            </div>
                        </div>

                    <h3 class="mt-3">Mailjet API Key</h3>

                        <div class="form-group row">
                            <label for="mj_api_secret" class="col-sm-4 col-form-label">API Secret</label>
                            <div class="col-sm-8">
                                <input
                                        name="mj_api_secret"
                                        class="form-control"
                                        type="password"
                                        value="{{ global_settings['mj_api_secret'] }}"
                                        id="mj_api_secret"
                                >
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="mj_api_key" class="col-sm-4 col-form-label">API Key</label>
                            <div class="col-sm-8">
                                <input
                                        name="mj_api_key"
                                        class="form-control"
                                        type="text"
                                        value="{{ global_settings['mj_api_key'] }}"
                                        id="mj_api_key"
                                >
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="mj_api_from_email" class="col-sm-4 col-form-label">Sender Email</label>
                            <div class="col-sm-8">
                                <input
                                        name="mj_api_from_email"
                                        class="form-control"
                                        type="text"
                                        value="{{ global_settings['mj_api_from_email'] }}"
                                        id="mj_api_from_email"
                                >
                            </div>
                        </div>

                        <a role="button" class="btn btn-outline-dark" href="#">Test Credentials</a>

                <h3 class="mt-3">HMRC MTD Credentials</h3>

                        <div class="form-group row">
                            <label for="mtd_client_id" class="col-sm-4 col-form-label">Client ID</label>
                            <div class="col-sm-8">
                                <input
                                        name="mtd_client_id"
                                        class="form-control"
                                        type="text"
                                        value="{{ global_settings['mtd_client_id'] }}"
                                        id="mtd_client_id"
                                >
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="mtd_client_secrets" class="col-sm-4 col-form-label">Client Secret</label>
                            <div class="col-sm-8">
                                <input
                                        name="mtd_client_secrets"
                                        class="form-control"
                                        type="password"
                                        value="{{ global_settings['mtd_client_secrets'] }}"
                                        id="mtd_client_secrets"
                                >
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="mtd_server_token" class="col-sm-4 col-form-label">Server Token</label>
                            <div class="col-sm-8">
                                <input
                                        name="mtd_server_token"
                                        class="form-control"
                                        type="password"
                                        value="{{ global_settings['mtd_server_token'] }}"
                                        id="mtd_server_token"
                                >
                            </div>
                        </div>

                        <div class="custom-control custom-switch">
                            <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="mtd_prod_switch"
                                    name='mtd_prod_switch'
                                    {% if global_settings['mtd_prod_status'] == 'on' %}
                                    checked
                                    {% endif %}
                            >
                            <label class="custom-control-label" for="mtd_prod_switch">MTD Production Server</label>
                        </div>

                <div class="form-group row">
                    <input
                        type="submit"
                        class="col btn btn-primary mt-3"
                        value="Save Settings">
                </div>

            </form>
        </div>
    </div>

{% endblock %}